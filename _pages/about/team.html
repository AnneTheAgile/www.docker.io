{% extends 'base.html' %}
{% load navactive %}{% load markdown_deux_tags %}{% load gravatar %}
{% block page_js %}{{ block.super }}
<script>
    function createBioBlock(element) {
        var itemsPerRow = 4;
        var teamMembers = $('.team-member')
        var insertPosition;

        var position = teamMembers.index(element) + 1;
        var modulo=position%itemsPerRow;

        $('#bio').remove();
        var newDiv = $('<div id="bio" class="bio">bio</div>');

        newDiv.html($(".bio", element).html());

        if (modulo == 0) {
            insertPosition = position + 1;
        } else {
            insertPosition = position + 2;
        }

        if (insertPosition >= teamMembers.length) {
            insertPosition = teamMembers.length -1;
        }

        newDiv.insertAfter(teamMembers[insertPosition])

    }

    $(document).ready(function() {
      console.log ("ready");

      $('.team-member').mousedown( function() {
            createBioBlock(this);
        });
    });

</script>
{% endblock %}


{% block content %}

<div class="container">

<div class="row" >
    <div class="span3">
        {% include 'about/_menu.html' %}

    </div>
    <div id="" class="span9 main-copy">
        {% markdown %}{% block copy_introduction %}
        {% endblock %}{% endmarkdown %}

        {% markdown %}{% block top_contributors %}
        {% endblock top_contributors %}{% endmarkdown %}


        {% markdown %}{% block teammembers %}
        {% endblock teammembers %}{% endmarkdown %}

        <div class="team core-team">
        {% for team_member in core_team %}

            <div class="team-member">
                <img src="{% gravatar_url team_member.gravatar_email %}" alt="profile picture">
                <span class="name">{{ team_member.full_name }}</span>
                <span class="bio" style="display: none">{{ team_member.bio }}</span>
            </div>

        {% endfor %}
        </div>

    </div>



</div>


</div>

{% endblock %}